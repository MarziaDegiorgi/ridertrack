<!-- PARTICIPANT SEARCH FORM-->
<div *ngIf="mapPoints && mapPoints.length>0; else noroute">
  <div class="row  pr0 padding-top-40 properties-page">
    <div class="col-md-12 clear">
      <div class="row search-form wow pulse animated" data-wow-delay="1s"
           style="visibility: visible; animation-delay: 1s; animation-name: pulse;">
        <form class="form-inline">
          <div class="col-xs-12 col-md-8">
            Select a participant to track:
            <div class="form-group">
              <select id="race" #searchType class="selectpicker" (change)="onChange($event)"
                      data-live-search="true" data-live-search-style="begins"
                      title="Select a participant">
                <option value="-1" selected>Select a Participant</option>
                <option *ngFor="let participant of participantsList" [value]="participant" style="text-transform: capitalize">
                  {{participant.name}} {{participant.surname}}</option>
              </select>
            </div>
          </div>
        </form>
      </div>
      <!-- MAP PROGRESS -->
      <agm-map id="map" #map [longitude]="initLong" [latitude]="initLat" [zoom]="zoom"
      [streetViewControl]="false" [rotateControl]="true">
        <div *ngFor="let participantM of participantsMarkers">
          <div *ngIf="participantM.select">
            <agm-marker [latitude]="participantM.lat"
                        [longitude]="participantM.lng"
                        [iconUrl]="participantM.icon">
              <agm-info-window [closeWhenOthersOpen]="true" >{{participantM.user.name}} {{participantM.user.surname}}
                <br> timestamp: {{participantM.timestamp}}
              </agm-info-window>
            </agm-marker>
          </div>
        </div>
        <map-direction *ngIf="directions != null" [origin]="directions.origin" [destination]="directions.destination"
                       [waypoints]="directions.waypoints"></map-direction>
      </agm-map>
    </div>
  </div>
</div>

<ng-template #noroute>
  <div class="container">
    <div class="row  pr0 padding-top-40 properties-page">
      <div class="col-md-12 clear">
        <div class="clearfix" >
          <div class="wizard-container">

            <div class="wizard-card ct-wizard-orange" id="wizardProperty">
              <div class="wizard-header">
                <h3>
                  <b>The Route</b> IS NOT AVAILABLE YET<br>
                </h3>
                <a  [routerLink]="['/events', event._id]" > < Come Back to the event </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <br>
</ng-template>
